import{a as Q}from"./chunk-QRYUZURP.js";import{a as Qo}from"./chunk-WRQISQQJ.js";import{a as D,b as Bo,c as jo,d as Lo,e as Ro,f as zo,g as Ho,h as $o,i as Ko,j as qo,k as Jo}from"./chunk-UG56RLYY.js";import{a as Uo}from"./chunk-4EKE7ICE.js";import{a as A,b as Vo}from"./chunk-QXSUWR23.js";import{c as Do,e as yo,f as Oo,g as co}from"./chunk-QXQ3G5IP.js";import{a as G}from"./chunk-5NBA5GWV.js";import"./chunk-BYXBJQAS.js";import{a as Yo}from"./chunk-APDG2UCO.js";import{e as P,f as E}from"./chunk-P3XNZYJ6.js";import{A as Ao,B as M,C as Io,D as wo,E as J,F as Y,O as To,R as No,S as po,b as U,e as B,f as j,g as L,h as R,i as z,j as H,k as Po,l as Eo,n as xo,o as Mo,p as $,q as Go,s as x,t as K,u as q,v as F,w as Fo,x as ko,y as k}from"./chunk-Q7QCMHQW.js";import{k as vo,m as So,o as mo}from"./chunk-33ZGYKW3.js";import"./chunk-CARY4E7O.js";import{$c as Co,E as ao,Ea as lo,Hb as a,I as no,Ib as n,Jb as S,N as so,Nb as b,Qb as c,Sb as d,Wb as go,Xb as fo,Xc as N,Yb as ho,Yc as V,ac as s,bc as T,cb as l,cc as _,da as I,db as u,lc as uo,mc as bo,na as v,nc as _o,oa as w,ub as g,v as ro,wa as f,xa as h,yb as m}from"./chunk-KCGDNXPD.js";var y=class{id_empresa=0;codigo=0;descricao="";user_insert=0;user_update=0};var W=class{processar=!1;opcao=3;grupoUsuario=new y};function pe(r,o){if(r&1){let e=b();a(0,"button",14),c("click",function(){f(e);let i=d();return h(i.actionFunction())}),a(1,"mat-icon"),s(2,"check"),n(),s(3),n()}if(r&2){let e=d();l(3),_(" ",e.acao," ")}}function de(r,o){if(r&1&&(a(0,"mat-error"),s(1),n()),r&2){let e=d();l(),_("",e.getMensafield("descricao")," ")}}var Z=class r{constructor(o,e,t,i,p,O,C){this.formBuilder=o;this.grupoSrv=e;this.globalService=t;this.appSnackBar=i;this.simNaoPipe=p;this.data=O;this.dialogRef=C;this.formulario=o.group({codigo:[{value:""}],descricao:[{value:""},[Vo(3,20,!0)]]})}formulario;erro;acao="Sem Defini\xE7\xE3o";idAcao=1;readOnly=!0;inscricaoGetGrupos;inscricaoAcao;labelCadastro="";ngOnInit(){this.idAcao=this.data.opcao,this.setAcao(this.data.opcao),this.setValue()}ngOnDestroy(){this.inscricaoGetGrupos?.unsubscribe(),this.inscricaoAcao?.unsubscribe()}actionFunction(){this.formulario.valid?this.executaAcao():(this.formulario.markAllAsTouched(),this.appSnackBar.openSuccessSnackBar("Formul\xE1rio Com Campos Inv\xE1lidos.","OK"))}closeModal(){this.data.processar=!0,this.dialogRef.close(this.data)}setValue(){this.formulario.setValue({codigo:this.data.grupoUsuario.codigo,descricao:this.data.grupoUsuario.descricao})}getLabelCancel(){return this.idAcao==3?"Voltar":"Cancelar"}setAcao(o){switch(+o){case 1:this.acao="Gravar",this.labelCadastro="Empresas - Inclus\xE3o.",this.readOnly=!1;break;case 2:this.acao="Gravar",this.labelCadastro="Empresas - Altera\xE7\xE3o.",this.readOnly=!1;break;case 3:this.acao="Voltar",this.labelCadastro="Empresas - Consulta.",this.readOnly=!0;break;case 4:this.acao="Excluir",this.labelCadastro="Empresas - Exclus\xE3o.",this.readOnly=!0;break;case 5:this.acao="Gravar",this.labelCadastro="Empresas - Atualiza\xE7\xE3o",this.readOnly=!1;break;default:break}}executaAcao(){switch(this.data.grupoUsuario.codigo=this.formulario.value.codigo,this.data.grupoUsuario.descricao=this.formulario.value.descricao,+this.idAcao){case 1:this.data.grupoUsuario.user_insert=this.globalService.getUsuario().id,this.inscricaoAcao=this.grupoSrv.grupousuarioInsert(this.data.grupoUsuario).subscribe({next:o=>{this.appSnackBar.openSuccessSnackBar("Empresa Incluida Com Sucesso !","OK"),this.data.grupoUsuario=o,this.getGrupoUsuario(this.data.grupoUsuario)},error:o=>{console.log("error =>",o),this.appSnackBar.openFailureSnackBar(`Erro Na Inclus\xE3o ${o.error.tabela} - ${o.error.erro} - ${o.error.message}`,"OK")}});break;case 2:this.data.grupoUsuario.user_update=this.globalService.getUsuario().id,this.inscricaoAcao=this.grupoSrv.grupousuarioUpdate(this.data.grupoUsuario).subscribe({next:o=>{this.appSnackBar.openSuccessSnackBar("Empresa Alterada Com Sucesso !","OK"),this.data.grupoUsuario=o,this.getGrupoUsuario(this.data.grupoUsuario)},error:o=>{this.appSnackBar.openFailureSnackBar(`Erro Na Altera\xE7\xE3o ${o.error.tabela} - ${o.error.erro} - ${o.error.message}`,"OK")}});break;case 4:this.inscricaoAcao=this.grupoSrv.grupousuarioDelete(this.data.grupoUsuario.id_empresa,this.data.grupoUsuario.codigo).subscribe({next:o=>{this.appSnackBar.openSuccessSnackBar("Grupo De Usu\xE1rio Excluido Com Sucesso !","OK"),this.data.grupoUsuario=o,this.closeModal()},error:o=>{this.appSnackBar.openFailureSnackBar(`Erro Na Exclus\xE3o ${o.error.tabela} - ${o.error.erro} - ${o.error.message}`,"OK")}});break;default:break}}getAcoes(){return A}NoValidtouchedOrDirty(o){return!!(!this.formulario.get(o)?.valid&&(this.formulario.get(o)?.touched||this.formulario.get(o)?.dirty))}getMensafield(o){return this.formulario.get(o)?.errors?.message}setEmailReadOnly(){return this.idAcao==5?!0:this.readOnly}getGrupoUsuario(o){this.inscricaoGetGrupos=this.grupoSrv.getGrupousuario(o.id_empresa,o.codigo).subscribe({next:e=>{this.data.grupoUsuario=e,this.closeModal()},error:e=>{this.appSnackBar.openFailureSnackBar("Problemas na Consulta Da Empresa '","OK"),this.closeModal}})}readOnlyChave(){return this.idAcao!=1}static \u0275fac=function(e){return new(e||r)(u(H),u(Q),u(P),u(E),u(Uo),u(ko),u(Fo))};static \u0275cmp=v({type:r,selectors:[["app-grupousuario-dialog"]],decls:23,vars:7,consts:[[1,"toolbar-alinhada","dialog-header"],["color","primary"],[1,"example-spacer"],[1,"button-container"],["mat-raised-button","","color","#FFFFFF",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],[1,"dialog-content"],["autocomplete","off",3,"formGroup"],[1,"col-med-2"],["appearance","outline",1,"col-70"],["matInput","","formControlName","codigo",3,"readonly"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","descricao","autofocus","","oninput","this.value = this.value.toUpperCase()",3,"readonly"],[4,"ngIf"],["mat-raised-button","","color","#FFFFFF",3,"click"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"mat-toolbar",1)(2,"span",2)(3,"mat-label"),s(4),n()(),a(5,"div",3),g(6,pe,4,1,"button",4),a(7,"button",5),c("click",function(){return t.closeModal()}),a(8,"mat-icon"),s(9,"cancel"),n(),s(10),n()()()(),a(11,"mat-dialog-content",6)(12,"form",7)(13,"div",8)(14,"mat-form-field",9)(15,"mat-label"),s(16,"Codigo"),n(),S(17,"input",10),n(),a(18,"mat-form-field",11)(19,"mat-label"),s(20,"Descri\xE7\xE3o"),n(),S(21,"input",12),g(22,de,2,1,"mat-error",13),n()()()()),e&2&&(l(4),T(t.labelCadastro),l(2),m("ngIf",t.idAcao!=3),l(4),_(" ",t.getLabelCancel()," "),l(2),m("formGroup",t.formulario),l(5),m("readonly",t.readOnlyChave()),l(4),m("readonly",t.readOnly),l(),m("ngIf",t.NoValidtouchedOrDirty("descricao")))},dependencies:[V,Mo,Ao,x,Y,J,M,Io,K,L,U,B,j,R,z],styles:[".form-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;margin:20px}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:right;padding:1em;border-bottom:1px solid #ccc;background-color:#f5f5f5;position:sticky;top:0;z-index:1}.mat-dialog-container[_ngcontent-%COMP%], .mat-form-field[_ngcontent-%COMP%], .mat-label[_ngcontent-%COMP%], .mat-input-element[_ngcontent-%COMP%], .mat-select-value[_ngcontent-%COMP%], .mat-option[_ngcontent-%COMP%], .mat-error[_ngcontent-%COMP%], .mat-button[_ngcontent-%COMP%], .mat-toolbar[_ngcontent-%COMP%]{font-size:13px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;padding:1em;border-top:1px solid #ccc}"]})};var oo=class{id_empresa=0;codigo=0;descricao="";pagina=0;tamPagina=50;contador="N";orderby="";sharp=!1};function ae(r,o){try{let e=0;return e=parseInt(Object(o).codigo,10),isNaN(e)?r.codigo=0:r.codigo=e,Object(o).razao?.trim()!==""&&(r.descricao=Object(o).descricao),Object(o).orderby?.trim()!==""&&(r.orderby=Object(o).orderby),r}catch(e){throw e}}function fe(r,o){if(r&1){let e=b();a(0,"mat-icon",9),c("click",function(){f(e);let i=d();return h(i.onGetExcelToEmailOrDownLoad("e-mail"))}),s(1,"mail"),n()}}function he(r,o){if(r&1){let e=b();a(0,"mat-icon",10),c("click",function(){f(e);let i=d();return h(i.onGetExcelToEmailOrDownLoad("download"))}),s(1,"cloud_download"),n()}}function be(r,o){if(r&1&&(a(0,"mat-option",21),s(1),n()),r&2){let e=o.$implicit;m("value",e.sigla),l(),_(" ",e.descricao," ")}}function _e(r,o){if(r&1){let e=b();a(0,"button",22),c("click",function(){f(e);let i=d(2);return h(i.clearValue("codigo"))}),a(1,"mat-icon"),s(2,"close"),n()()}}function Ce(r,o){if(r&1){let e=b();a(0,"button",22),c("click",function(){f(e);let i=d(2);return h(i.clearValue("descricao"))}),a(1,"mat-icon"),s(2,"close"),n()()}}function ve(r,o){if(r&1){let e=b();a(0,"form",11)(1,"div",12)(2,"mat-form-field",13)(3,"mat-label"),s(4,"Ordernado Por"),n(),a(5,"mat-select",14),c("selectionChange",function(){f(e);let i=d();return h(i.onChangeParametros())}),g(6,be,2,2,"mat-option",15),n()(),a(7,"mat-form-field",16)(8,"mat-label"),s(9,"C\xF3digo"),n(),S(10,"input",17),g(11,_e,3,0,"button",18),n(),a(12,"mat-form-field",19)(13,"mat-label"),s(14,"Descri\xE7\xE3o"),n(),S(15,"input",20),g(16,Ce,3,0,"button",18),n()()()}if(r&2){let e=d();m("formGroup",e.formulario),l(6),m("ngForOf",e.orderby),l(5),m("ngIf",e.hasValue("codigo")),l(5),m("ngIf",e.hasValue("descricao"))}}var eo=class r{constructor(o,e,t,i,p,O,C){this.formBuilder=o;this.globalService=e;this.parametrosService=t;this.emailService=i;this.appSnackBar=p;this.EmailDialog=O;this.DownLoadDialog=C;this.formulario=o.group({orderby:[{value:""}],codigo:[{value:""}],descricao:[{value:""}]}),this.setHide(),this.setValuesNoParam()}paramName="";retorno=!1;email=!1;download=!1;controle_paginas=new G(50,0);hide=!0;change=new lo;changeHide=new lo;inscricaoParametro;inscricaoEmail;formulario;showFiltro=!0;hideAcao="Ocultar";orderby=[{sigla:"000000",descricao:"C\xF3digo"},{sigla:"000001",descricao:"Raz\xE3o Social"},{sigla:"000002",descricao:"CNPJ-CPF"}];parametro=new D;enable_filter=!1;valueChangeSubs=[];ngOnInit(){this.loadParametros()}setEnableFilter(o){if(this.enable_filter=o,!o){this.valueChangeSubs.forEach(i=>i.unsubscribe()),this.valueChangeSubs=[];return}let e=this.formulario.get("codigo")?.valueChanges.pipe(ro(i=>i?.trim()),ao(i=>i?.length>0),no(350),so()).subscribe(()=>this.onChangeParametros()),t=this.formulario.get("descricao")?.valueChanges.pipe(ro(i=>i?.trim()),ao(i=>i?.length>0),no(350),so()).subscribe(()=>this.onChangeParametros());this.valueChangeSubs=[e,t].filter(i=>!!i)}ngOnDestroy(){this.inscricaoParametro?.unsubscribe(),this.inscricaoEmail?.unsubscribe()}onGetExcelToEmailOrDownLoad(o){o.toUpperCase()=="E-MAIL"?this.openEmailDialog():this.openDownLoadDialog()}sendMail(o){let e=new zo;e.id_empresa=this.globalService.getEmpresa().id,e.id_evento=1,e.assunto="Relat\xF3rio Dos Ativos Do Invent\xE1rio",e.destinatario=this.globalService.usuario.email,e.mensagem="Mensagem enviada automaticamento por solicita\xE7\xE3o do usu\xE1rio. Favor Verificar Anexo.",e.fileName=o,this.globalService.setSpin(!0),this.inscricaoEmail=this.emailService.sendEmailV2(e).subscribe({next:t=>{this.appSnackBar.openSuccessSnackBar("E-Mail Enviado Com Sucesso!","OK")},error:t=>{this.appSnackBar.openFailureSnackBar("Falha Ao Enviar O E-Mail","OK")}})}setValues(){this.formulario.setValue({orderby:co(this.parametro.getParametro(),"orderby"),codigo:Oo(this.parametro.getParametro(),"codigo"),descricao:co(this.parametro.getParametro(),"descricao")})}setValuesNoParam(){this.formulario.setValue({orderby:"",codigo:"",descricao:""})}setHide(){this.hide=!this.hide,this.hideAcao=this.hide?"Mostrar":"Ocultar"}onlimparParametros(){this.parametro=this.InicializaParametro(),this.setEnableFilter(!1),this.setValues(),this.setEnableFilter(!0),this.onChangeParametros()}InicializaParametro(){let o=new D;return o.id_empresa=this.globalService.getEmpresa().id,o.modulo=this.paramName,o.assinatura="V1.00 06/11/2025",o.id_usuario=this.globalService.getUsuario().id,o.parametro=`
         {
            "codigo":"",
            "descricao":"",
            "tamPagina":50,
            "contador":"N",
            "orderby":"000001",
            "page":0,
            "sharp":false
        }`,o}loadParametros(){this.parametro=this.InicializaParametro(),this.getParametro()}getParametro(){this.globalService.setSpin(!0);let o=new Lo;o.id_empresa=this.parametro.id_empresa,o.modulo=this.parametro.modulo,o.assinatura=this.parametro.assinatura,o.id_usuario=this.parametro.id_usuario,this.inscricaoParametro=this.parametrosService.getParametrosParametro_01(o).subscribe({next:e=>{this.parametro=new D,this.parametro.id_empresa=e[0].id_empresa,this.parametro.modulo=e[0].modulo,this.parametro.id_usuario=e[0].id_usuario,this.parametro.assinatura=e[0].assinatura,this.parametro.parametro=e[0].parametro,this.parametro.user_insert=e[0].user_insert,this.parametro.user_update=e[0].user_update,this.setValues(),this.setEnableFilter(!0),this.onChangeParametros()},error:e=>{this.setValues(),this.setEnableFilter(!0),this.onChangeParametros()}})}updateParametros(){console.log("Salvando Par\xE2metros...",this.parametro.getParametro()),this.parametro.user_insert=this.globalService.usuario.id,this.parametro.user_update=this.globalService.usuario.id,this.refreshParametro(),this.inscricaoParametro=this.parametrosService.ParametroAtualiza(this.parametro).subscribe({next:o=>{this.appSnackBar.openSuccessSnackBar("Par\xE2metros Salvos Com Sucesso!","OK")},error:o=>{this.appSnackBar.openFailureSnackBar(`Falha Ao Salvar Os Par\xE2metros! ${yo(o)}`,"OK")}})}refreshParametro(){let o=this.parametro.getParametro();Object(o).orderby=this.formulario.value.orderby,Object(o).codigo=this.formulario.value.codigo,Object(o).descricao=this.formulario.value.descricao.toUpperCase(),this.parametro.parametro=JSON.stringify(o)}onChangeParametros(){this.enable_filter&&(this.refreshParametro(),this.change.emit(this.parametro))}onSaveConfig(){this.updateParametros()}onHide(){this.setHide(),this.changeHide.emit(this.hide)}hasValue(o){return this.formulario.get(o)?.value!=""}clearValue(o){o=="codigo"&&this.formulario.patchValue({id:""}),o=="descricao"&&this.formulario.patchValue({razao:""}),this.onChangeParametros()}ChangeValue(o,e){o=="codigo"&&this.formulario.patchValue({codigo:e}),o=="descricao"&&this.formulario.patchValue({descricao:e})}openEmailDialog(){let o=new Ro;o.titulo="ENVIAR CONSULTA VIA E-MAIL",o.destinatario=this.globalService.usuario.email,o.escopo="T",o.labelBottomNao="Cancelar",o.labelBottonSim="Processar",o.id_empresa=this.globalService.empresa.id,o.pagina=this.controle_paginas.getPaginalAtual(),o.parametro=this.parametro;let e=new F;e.disableClose=!0,e.id="consulta-email",e.width="800px",e.data=o;let t=this.EmailDialog.open($o,e).beforeClosed().subscribe(i=>{})}openDownLoadDialog(){console.log("Pagina: ",this.controle_paginas.getPaginalAtual());let o=new Ko;o.titulo="DOWNLOAD DE CONSULTA",o.escopo="T",o.labelBottomNao="Cancelar",o.labelBottonSim="Processar",o.id_empresa=this.globalService.empresa.id,o.id_evento=1,o.pagina=this.controle_paginas.getPaginalAtual(),o.parametro=this.parametro;let e=new F;e.disableClose=!0,e.id="consulta-download",e.width="800px",e.data=o;let t=this.DownLoadDialog.open(qo,e).beforeClosed().subscribe(i=>{})}NoValidtouchedOrDirty(o){return!!(!this.formulario.get(o)?.valid&&(this.formulario.get(o)?.touched||this.formulario.get(o)?.dirty))}getMensafield(o){return this.formulario.get(o)?.errors?.message}static \u0275fac=function(e){return new(e||r)(u(H),u(P),u(Jo),u(Ho),u(E),u(k),u(k))};static \u0275cmp=v({type:r,selectors:[["app-formulario-filtro-grupousuario"]],inputs:{paramName:[0,"PARAMNAME","paramName"],retorno:[0,"RETORNO","retorno"],email:[0,"EMAIL","email"],download:[0,"DOWNLOAD","download"],controle_paginas:[0,"CONTROLE_PAGINAS","controle_paginas"],hide:[0,"HIDE","hide"]},outputs:{change:"changeParametro",changeHide:"changeHide"},decls:13,vars:3,consts:[["color","white",1,"toolbar-filtro"],[1,"filtro-com-icones"],[1,"titulo"],["matTooltipPosition","above","matTooltip","Limpar Par\xE2metros","matTooltipPosition","above",3,"click"],["matTooltipPosition","above","matTooltip","Salvar Par\xE2metros","matTooltipPosition","above",3,"click"],["matTooltipPosition","above","matTooltip","Enviar Consulta Por E-Mail","matTooltipPosition","above",3,"click",4,"ngIf"],["matTooltipPosition","above","matTooltip","Baixar A Consulta","matTooltipPosition","above",3,"click",4,"ngIf"],["matTooltipPosition","above","matTooltip","Mostrar/Esconder","matTooltipPosition","above",3,"click"],["autocomplete","off",3,"formGroup",4,"ngIf"],["matTooltipPosition","above","matTooltip","Enviar Consulta Por E-Mail","matTooltipPosition","above",3,"click"],["matTooltipPosition","above","matTooltip","Baixar A Consulta","matTooltipPosition","above",3,"click"],["autocomplete","off",3,"formGroup"],[1,"col-med-3"],["field","","appearance","outline",1,"col-max"],["formControlName","orderby",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"col-max"],["matInput","","formControlName","codigo"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["appearance","outline",1,"uppercase-input","column-span-2"],["matInput","","formControlName","descricao"],[3,"value"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"span",1)(2,"span",2),s(3,"Filtro da Pesquisa"),n(),a(4,"mat-icon",3),c("click",function(){return t.onlimparParametros()}),s(5,"clear"),n(),a(6,"mat-icon",4),c("click",function(){return t.onSaveConfig()}),s(7,"save"),n(),g(8,fe,2,0,"mat-icon",5)(9,he,2,0,"mat-icon",6),a(10,"mat-icon",7),c("click",function(){return t.onHide()}),s(11,"visibility"),n()()(),g(12,ve,17,4,"form",8)),e&2&&(l(8),m("ngIf",t.email),l(),m("ngIf",t.download),l(3),m("ngIf",!t.hide))},dependencies:[N,V,xo,$,x,Y,J,M,wo,To,q,L,U,B,j,R,z],styles:[".grupo-select[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]{margin-top:4px;padding:0;height:24px;width:24px;line-height:24px;vertical-align:middle;transform:translateY(1px)}"]})};function Pe(r,o){if(r&1){let e=b();a(0,"tr")(1,"td")(2,"div",10)(3,"mat-label",11),s(4),uo(5,"zeroFill"),n()()(),a(6,"td")(7,"div")(8,"mat-label",12),s(9),uo(10,"truncate"),n()()(),a(11,"td",13)(12,"barra-acoes",14),c("changeOpcao",function(i){let p=f(e),O=p.$implicit,C=p.index,se=d();return h(se.escolha(i,C,O))}),n()()()}if(r&2){let e=o.$implicit;l(4),_("",bo(5,3,e.codigo)," "),l(4),m("matTooltip",e.descricao),l(),T(_o(10,5,e.descricao,50))}}var to=class r{constructor(o,e,t,i,p,O){this.globalService=o;this.gruposUsuariosSrv=e;this.route=t;this.router=i;this.appSnackBar=p;this.empresaDialog=O}viewPort;inscricaoGrupoUsuario;gruposusuarios=[];controlePaginas=new G(0,0);tamPagina=50;retorno=!1;parametro=new D;hide=!1;ngOnInit(){}ngOnDestroy(){this.inscricaoGrupoUsuario?.unsubscribe()}escolha(o,e,t){this.openGrupoUsuarioDialog(o,e,t)}onHome(){this.router.navigate([""])}onAtualizar(){this.getGruposUsuarios(1)}getAcoes(){return A}getGruposUsuarios(o=2){let e=new oo;e=ae(e,this.parametro.getParametro()),o==1?e.contador="S":(e.pagina=this.controlePaginas.getPaginalAtual(),e.tamPagina=this.controlePaginas.getTamPagina()),this.inscricaoGrupoUsuario=this.gruposUsuariosSrv.getGruposusuariosParametro_01(e).subscribe({next:t=>{o==2?this.gruposusuarios=t:(this.controlePaginas=new G(this.tamPagina,t.total==0?1:t.total),this.getGruposUsuarios())},error:t=>{console.log(t),this.gruposusuarios=[],this.controlePaginas=new G(this.tamPagina,0)}})}getTexto(){return Do}onChangePage(){this.getGruposUsuarios()}onChangeHide(o){this.hide=o}onChangeParametros(o){this.parametro=o,console.log("Paramentro de Pesquisa",this.parametro),this.getGruposUsuarios(1)}openGrupoUsuarioDialog(o=3,e,t){let i=new W;t==null&&(t=new y,t.id_empresa=this.globalService.getEmpresa().id),i.opcao=o,i.processar=!1,i.grupoUsuario=t,console.log("A\xE7\xE3o:",o,i.grupoUsuario);let p=new F;p.disableClose=!0,p.id="dialog-grupousuario-component",p.width="80vw",p.height="80vh",p.disableClose=!0,p.panelClass="dialog-font-small",p.data=i;let O=this.empresaDialog.open(Z,p).beforeClosed().subscribe(C=>{if(C?.processar)switch(o){case 1:this.gruposusuarios.push(C.grupoUsuario);break;case 2:e>=0&&(this.gruposusuarios[e]=C.grupoUsuario);break;case 4:this.gruposusuarios.splice(e,1);break;default:break}})}static \u0275fac=function(e){return new(e||r)(u(P),u(Q),u(vo),u(So),u(E),u(k))};static \u0275cmp=v({type:r,selectors:[["app-crud-grupousuario"]],viewQuery:function(e,t){if(e&1&&go(Go,5),e&2){let i;fo(i=ho())&&(t.viewPort=i.first)}},decls:24,vars:7,consts:[[1,"toolbar-alinhada"],[1,"example-spacer"],[3,"changePage","controle"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Retorno","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Atualizar","matTooltipPosition","above",1,"example-icon",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above",3,"click","matTooltip"],["PARAMNAME","grupousuario",3,"changeParametro","changeHide","HIDE","EMAIL","DOWNLOAD","CONTROLE_PAGINAS"],[1,"Browse_Lanc"],[1,"coluna-cabec"],[4,"ngFor","ngForOf"],[1,"alinha_centro"],[1,"Browse_Lanc_td"],["matTooltipPosition","above",1,"Browse_Lanc_td",3,"matTooltip"],[1,"acoes"],[3,"changeOpcao"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"mat-toolbar")(2,"span",1),s(3,"Grupos De Usu\xE1rios "),n(),a(4,"app-navegator",2),c("changePage",function(){return t.onChangePage()}),n(),a(5,"button",3),c("click",function(){return t.onHome()}),a(6,"mat-icon"),s(7,"home"),n()(),a(8,"button",4),c("click",function(){return t.onAtualizar()}),a(9,"mat-icon"),s(10,"rotate_right"),n()(),a(11,"button",5),c("click",function(){return t.escolha(t.getAcoes().Inclusao,-1)}),a(12,"mat-icon"),s(13,"add_circle_outline"),n()()()(),a(14,"app-formulario-filtro-grupousuario",6),c("changeParametro",function(p){return t.onChangeParametros(p)})("changeHide",function(p){return t.onChangeHide(p)}),n(),a(15,"table",7)(16,"tr",8)(17,"th"),s(18,"C\xF3digo"),n(),a(19,"th"),s(20,"Descri\xE7\xE3o"),n(),a(21,"th"),s(22,"A\xC7\xD5ES"),n()(),g(23,Pe,13,8,"tr",9),n()),e&2&&(l(4),m("controle",t.controlePaginas),l(7),m("matTooltip",t.getTexto().incluir),l(3),m("HIDE",t.hide)("EMAIL",!0)("DOWNLOAD",!0)("CONTROLE_PAGINAS",t.controlePaginas),l(9),m("ngForOf",t.gruposusuarios))},dependencies:[N,$,x,M,K,q,Bo,jo,eo,Yo,Qo],styles:[".form-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;margin:20px}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:right;padding:1em;border-bottom:1px solid #ccc;background-color:#f5f5f5;position:sticky;top:0;z-index:1}.mat-dialog-container[_ngcontent-%COMP%], .mat-form-field[_ngcontent-%COMP%], .mat-label[_ngcontent-%COMP%], .mat-input-element[_ngcontent-%COMP%], .mat-select-value[_ngcontent-%COMP%], .mat-option[_ngcontent-%COMP%], .mat-error[_ngcontent-%COMP%], .mat-button[_ngcontent-%COMP%], .mat-toolbar[_ngcontent-%COMP%]{font-size:13px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;padding:1em;border-top:1px solid #ccc}"]})};var Ee=[{path:"",redirectTo:"grupos",pathMatch:"full"},{path:"grupos",component:to}],io=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=w({type:r});static \u0275inj=I({imports:[mo.forChild(Ee),mo]})};var ne=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=w({type:r});static \u0275inj=I({imports:[Co,io,No,Po,Eo,po,po]})};export{ne as GrupousuarioModule};
